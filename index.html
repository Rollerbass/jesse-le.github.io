<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jesse-Le Edwards</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<section class="hero">
  <div class="sphere-system" id="system">

    <div class="center-sphere">
      <h1>Jesse-Le<br>Edwards</h1>
      <p class="subtitle">
        IT • Customer Support • Systems • Creative Technologist
      </p>
      <p class="intro">
        I help people work better with technology.<br>
        Calm problem-solver. Curious builder.<br>
        Human-centered thinker.
      </p>
    </div>

    <a class="orbit">About</a>
    <a class="orbit">Projects</a>
    <a class="orbit">GitHub</a>
    <a class="orbit">LinkedIn</a>
    <a class="orbit">Email</a>
    <a class="orbit">Demo</a>

  </div>
</section>

<script>
const system = document.getElementById("system");
const orbits = [...document.querySelectorAll(".orbit")];

const COUNT = orbits.length;
const STEP = (Math.PI * 2) / COUNT;

let rotation = 0;
let active = null;
let lastVector = null;

let radius, MIN_RADIUS, MAX_RADIUS;

/* ===== RESPONSIVE + SAFE RADIUS ===== */
function getResponsiveRadius() {
  const minDim = Math.min(window.innerWidth, window.innerHeight);

  // Match CSS clamps
  const centerSize = Math.min(Math.max(minDim * 0.7, 260), 380);
  const orbitSize  = Math.min(Math.max(minDim * 0.18, 64), 96);

  const base = centerSize / 2 + orbitSize / 2 + 24;

  return {
    radius: base + 40,
    min: base + 10,
    max: base + minDim * 0.15
  };
}

function updateRadius() {
  const r = getResponsiveRadius();
  radius = r.radius;
  MIN_RADIUS = r.min;
  MAX_RADIUS = r.max;
}

updateRadius();

/* ===== CENTER POINT ===== */
function center() {
  return {
    x: system.offsetWidth / 2,
    y: system.offsetHeight / 2
  };
}

/* ===== LAYOUT ===== */
function layout() {
  const c = center();
  orbits.forEach((orbit, i) => {
    const angle = i * STEP + rotation;
    const x = c.x + Math.cos(angle) * radius - orbit.offsetWidth / 2;
    const y = c.y + Math.sin(angle) * radius - orbit.offsetHeight / 2;
    orbit.style.transform = `translate(${x}px, ${y}px)`;
  });
}

/* ===== POINTER EVENTS ===== */
orbits.forEach(orbit => {
  orbit.addEventListener("pointerdown", e => {
    active = orbit;
    orbit.classList.add("dragging");
    orbit.setPointerCapture(e.pointerId);

    const c = center();
    lastVector = {
      x: e.clientX - c.x,
      y: e.clientY - c.y
    };
  });
});

document.addEventListener("pointermove", e => {
  if (!active || !lastVector) return;

  const c = center();
  const currentVector = {
    x: e.clientX - c.x,
    y: e.clientY - c.y
  };

  const len = Math.hypot(lastVector.x, lastVector.y);
  if (!len) return;

  const radial = {
    x: lastVector.x / len,
    y: lastVector.y / len
  };

  const tangent = {
    x: -radial.y,
    y: radial.x
  };

  const dx = currentVector.x - lastVector.x;
  const dy = currentVector.y - lastVector.y;

  radius += (dx * radial.x + dy * radial.y) * 0.8;
  rotation += (dx * tangent.x + dy * tangent.y) * 0.005;

  radius = Math.max(MIN_RADIUS, Math.min(MAX_RADIUS, radius));

  lastVector = currentVector;
  layout();
});

document.addEventListener("pointerup", () => {
  if (!active) return;
  active.classList.remove("dragging");
  active = null;
  lastVector = null;
});

/* ===== RESIZE / LOAD ===== */
window.addEventListener("resize", () => {
  updateRadius();
  layout();
});

window.addEventListener("load", layout);
</script>

</body>
</html>
